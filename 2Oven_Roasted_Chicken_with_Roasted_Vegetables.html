<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Oven Roasted Chicken with Roasted Vegetables</title>
    <link rel="stylesheet" href="functions/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <!-- Navbar -->
    <div class="header">
        <div id="navbar"></div>
        
    </div>

    <!-- Main Content Wrapper -->
    <main class="recipe-page">
        <header class="recipe-header">
            <h1>Oven Roasted Chicken with Roasted Vegetables</h1>
            <div class="image-container">
                <img class="recipe-image" src="pictures/roasted_chicken.png" alt="Oven Roasted Chicken with Roasted Vegetables">
            </div>
        </header>

        <!-- Ingredients Section -->
        <section class="ingredients">
            <h2>Ingredients</h2>
            <pre>
Whole Chicken
Onion
Garlic
Carrots
Lemon
Fresh Bunch of Thyme
Butter
Olive Oil
Salt & Pepper
            </pre>
        </section>

        <!-- Instructions Section -->
        <section class="instructions">
            <h2>Instructions</h2>
            <pre>Preheat oven to 425
Discard any giblets or innards from the chicken
Rinse the chicken inside and out and then pat dry with paper towels and set aside
Chop onion into vertical slices
Cut off top of garlic bulb to expose the cloves
Roll cut carrots into inch long pieces
Quarter Lemon
In a roasting pan, mix onions and carrots and half of thyme with olive oil and season
Liberally Salt the cavity of the chicken
Insert chopped garlic bulb, lemon, and half of thyme into cavity
Place chicken over the vegetables in the roasting pan
Coat the chicken with melted butter
Season with salt & pepper
Roast in oven for about 1 hour 15 minutes (depends on size of chicken)
Let rest for 10-15 minutes before slicing and serving</pre>
        </section>

        <!-- Links Section -->
        <footer class="recipe-footer">
            <a href="#" id="category-link">Back to Category</a> | <a href="index.html">Back to Homepage</a>
        </footer>
    </main>

    <script>
        // Function to set up event listeners for the navbar
        function setupNavbarEventListeners() {
            const toggleButton = document.querySelector('.menu-toggle');
            const menuDropdown = document.querySelector('.menu-dropdown');
            const closeButton = document.querySelector('.close-menu');

            // Check if elements are found
            if (!toggleButton) {
                alert('Toggle button not found!');
                console.error('Toggle button not found!');
                return;
            }
            if (!menuDropdown) {
                alert('Dropdown menu not found!');
                console.error('Dropdown menu not found!');
                return;
            }
            if (!closeButton) {
                alert('Close button not found!');
                console.error('Close button not found!');
                return;
            }

            toggleButton.addEventListener('click', () => {
                menuDropdown.classList.toggle('show'); // Show or hide the dropdown menu
            });

            closeButton.addEventListener('click', () => {
                menuDropdown.classList.remove('show'); // Hide the dropdown menu
            });
        }
    
        // Fetching the navbar and inserting it into the page
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            })
            .catch(error => console.error('Error loading navbar:', error));

        // Fetch recipe data and update the category link
        const recipeName = "Oven Roasted Chicken with Roasted Vegetables"; // Replace this with the actual recipe title dynamically
    
        fetch('functions/recipes.json')
            .then(response => response.json())
            .then(data => {
                const recipe = data.find(r => r.name === recipeName);
                if (recipe) {
                    const categoryLink = document.getElementById('category-link');
                    categoryLink.href = `1${recipe.category.toLowerCase().replace(' ', '-')}.html`;
                    categoryLink.innerText = `Back`;
                } else {
                    console.error('Recipe not found:', recipeName);
                }
            })
            .catch(error => console.error('Error loading recipes:', error));
    </script>
</body>
</html>