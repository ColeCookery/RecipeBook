<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bun Ga Nuong (Vietnamese Chicken & Vermicelli Noodle Bowl)</title>
    <link rel="stylesheet" href="functions/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <!-- Navbar -->
    <div class="header">
        <div id="navbar"></div>
        
    </div>

    <!-- Main Content Wrapper -->
    <main class="recipe-page">
        <header class="recipe-header">
            <h1>Bun Ga Nuong (Vietnamese Chicken & Vermicelli Noodle Bowl)</h1>
            <div class="image-container">
                <img class="recipe-image" src="pictures/Bunganuong.jpg" alt="Bun Ga Nuong (Vietnamese Chicken & Vermicelli Noodle Bowl)">
            </div>
        </header>

        <!-- Ingredients Section -->
        <section class="ingredients">
            <h2>Ingredients</h2>
            <pre>
Chicken Breasts or Thighs
Vermicelli Noodles
Cucumber
Carrot
Iceberg Lettuce
Bean Sprouts
Fresh Cilantro
Marinade
	Fish Sauce
	Soy Sauce
	Sugar
	Vegetable Oil
	Lemongrass
	Garlic
	Pepper
Sauce
	Fish Sauce
	Sugar
	Lime Juice
	Warm Water
            </pre>
        </section>

        <!-- Instructions Section -->
        <section class="instructions">
            <h2>Instructions</h2>
            <pre>Finely mince 2 lemongrass stalks and 3 garlic cloves
Add to a bowl with 1 tbsp of each; Fish Sauce, Soy Sauce, Sugar, Vegetable Oil
Season with white or black pepper and add in chicken
Cover and marinade chicken for at least 1 hour
Fill up a bowl with hot tap water and soak vermicelli noodles for about 15 minutes
Sear the chicken over medium high heat for about 6 minutes on each side
Julienne Carrot and Cucumber & Shred Lettuce
Add carrot and cucumber to pan for the final couple minutes 
To prepare the sauce, dissolve 3 tbsps of sugar in 1/2 cup of warm water
Stir in 3 tbsps each of fish sauce and lime juice
Layer cooked noodles, shredded lettuce, vegetables, sliced chicken and cilantro
Drizzle with sauce and serve
(Optional additions: Spring Rolls, Crushed Peanuts, Fried Shallots, Chili Oil)</pre>
        </section>

        <!-- Links Section -->
        <footer class="recipe-footer">
            <a href="#" id="category-link">Back to Category</a> | <a href="index.html">Back to Homepage</a>
        </footer>
    </main>

    <script>
        // Function to set up event listeners for the navbar
        function setupNavbarEventListeners() {
            const toggleButton = document.querySelector('.menu-toggle');
            const menuDropdown = document.querySelector('.menu-dropdown');
            const closeButton = document.querySelector('.close-menu');

            // Check if elements are found
            if (!toggleButton) {
                alert('Toggle button not found!');
                console.error('Toggle button not found!');
                return;
            }
            if (!menuDropdown) {
                alert('Dropdown menu not found!');
                console.error('Dropdown menu not found!');
                return;
            }
            if (!closeButton) {
                alert('Close button not found!');
                console.error('Close button not found!');
                return;
            }

            toggleButton.addEventListener('click', () => {
                menuDropdown.classList.toggle('show'); // Show or hide the dropdown menu
            });

            closeButton.addEventListener('click', () => {
                menuDropdown.classList.remove('show'); // Hide the dropdown menu
            });
        }
    
        // Fetching the navbar and inserting it into the page
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            })
            .catch(error => console.error('Error loading navbar:', error));

        // Fetch recipe data and update the category link
        const recipeName = "Bun Ga Nuong (Vietnamese Chicken & Vermicelli Noodle Bowl)"; // Replace this with the actual recipe title dynamically
    
        fetch('functions/recipes.json')
            .then(response => response.json())
            .then(data => {
                const recipe = data.find(r => r.name === recipeName);
                if (recipe) {
                    const categoryLink = document.getElementById('category-link');
                    categoryLink.href = `1${recipe.category.toLowerCase().replace(' ', '-')}.html`;
                    categoryLink.innerText = `Back`;
                } else {
                    console.error('Recipe not found:', recipeName);
                }
            })
            .catch(error => console.error('Error loading recipes:', error));
    </script>
</body>
</html>